<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Today’s Match Preview & AI Insights</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Live cricket insights: AI win probability, projected score, team form, pitch report, and dynamic analysis. Auto-updated match previews for IPL, ILT20, BBL, PSL and SA20."
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet"
  />

<style>
/* -------------------------------------------------------------------
   ROOT DESIGN SYSTEM
-------------------------------------------------------------------*/
:root {
  --bg-main: #05060a;
  --bg-card: #10121a;
  --bg-soft: #171a23;
  --accent: #00e0ff;
  --accent-soft: rgba(0, 224, 255, 0.12);
  --accent-yellow: #ffd800;
  --text-main: #f5f5f7;
  --text-muted: #a3a7b5;
  --border-subtle: #262a37;
  --radius-lg: 18px;
  --radius-xl: 24px;
  --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.6);
  --transition-fast: 0.18s ease-out;
  --max-width: 1120px;
}

/* -------------------------------------------------------------------
   GLOBAL
-------------------------------------------------------------------*/
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: "Montserrat", system-ui, sans-serif;
  background: radial-gradient(circle at top, #161927 0, #05060a 46%);
  color: var(--text-main);
  min-height: 100vh;
  display: flex;
  justify-content: center;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    radial-gradient(circle at 10% 20%, rgba(0, 224, 255, 0.09), transparent 55%),
    radial-gradient(circle at 90% 80%, rgba(255, 216, 0, 0.06), transparent 55%);
  opacity: 0.9;
  pointer-events: none;
  z-index: -1;
}

main {
  width: 100%;
  max-width: var(--max-width);
  padding: 20px 16px 80px;
}

@media (min-width: 768px) {
  main {
    padding: 30px 28px 60px;
  }
}

/* -------------------------------------------------------------------
   BADGE
-------------------------------------------------------------------*/
.badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(0, 224, 255, 0.08);
  color: var(--accent);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  border: 1px solid rgba(0, 224, 255, 0.25);
}

.badge-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: var(--accent);
  box-shadow: 0 0 10px rgba(0, 224, 255, 0.85);
}

/* -------------------------------------------------------------------
   HERO
-------------------------------------------------------------------*/
.hero {
  display: grid;
  gap: 22px;
  margin-bottom: 34px;
}

@media (min-width: 900px) {
  .hero {
    grid-template-columns: 1.4fr 1fr;
    align-items: center;
    gap: 36px;
  }
}

.hero-title {
  font-size: clamp(26px, 4vw, 34px);
  font-weight: 800;
  line-height: 1.1;
  margin: 12px 0 12px;
}

.hero-title .accent {
  color: var(--accent);
}

.hero-subtitle {
  font-size: 14px;
  color: var(--text-muted);
  max-width: 520px;
}

.hero-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 16px;
  font-size: 12px;
  color: var(--text-muted);
}

.pill {
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid var(--border-subtle);
  background: rgba(15, 17, 25, 0.85);
}

/* -------------------------------------------------------------------
   CTAs
-------------------------------------------------------------------*/
.hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 22px;
}

.btn-primary,
.btn-ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border-radius: 999px;
  padding: 10px 18px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  border: 0;
  text-decoration: none;
  transition: var(--transition-fast);
  white-space: nowrap;
}

.btn-primary {
  background: linear-gradient(135deg, var(--accent), #57f5ff);
  color: #020308;
  box-shadow: 0 12px 35px rgba(0, 224, 255, 0.4);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 16px 40px rgba(0, 224, 255, 0.55);
}

.btn-ghost {
  background: rgba(20, 24, 32, 0.8);
  color: var(--text-main);
  border: 1px solid var(--border-subtle);
}

.btn-ghost:hover {
  background: rgba(26, 32, 45, 0.95);
  transform: translateY(-2px);
}

/* -------------------------------------------------------------------
   HERO CARD (MATCH BOX)
-------------------------------------------------------------------*/
.hero-card {
  background: radial-gradient(circle at top, #23283a, #10121a 60%);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-soft);
  padding: 18px 18px 16px;
  border: 1px solid rgba(120, 134, 180, 0.4);
  position: relative;
  overflow: hidden;
}

.hero-card::before {
  content: "";
  position: absolute;
  inset: -40%;
  background:
    radial-gradient(circle at 0% 0%, rgba(0, 224, 255, 0.13), transparent 60%),
    radial-gradient(circle at 110% 20%, rgba(255, 216, 0, 0.10), transparent 55%);
  opacity: 0.9;
  z-index: -1;
}

.hero-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 14px;
}

.hero-card-title {
  font-size: 15px;
  font-weight: 600;
  letter-spacing: 0.10em;
  color: var(--text-muted);
}

.hero-card-tag {
  font-size: 12px;
  padding: 4px 9px;
  border-radius: 999px;
  background: rgba(0, 0, 0, 0.28);
  border: 1px solid rgba(245, 245, 247, 0.18);
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.hero-card-teams {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.hero-card-team {
  flex: 1;
  background: rgba(6, 8, 16, 0.75);
  border-radius: 999px;
  padding: 10px 12px;
  border: 1px solid rgba(163, 167, 181, 0.35);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.team-name {
  font-size: 16px;
  font-weight: 700;
}

.team-form {
  font-size: 11px;
  color: var(--text-muted);
}

.hero-card-vs {
  font-size: 22px;
  font-weight: 800;
  color: var(--accent-yellow);
  text-shadow: 0 0 14px rgba(255,216,0,0.85);
  padding: 0 6px;
}

.hero-logos {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin: 12px 0 6px;
}

.hero-logos img {
  width: 52px;
  height: 52px;
  object-fit: contain;
  filter: drop-shadow(0 0 10px rgba(0,0,0,0.7));
}

/* -------------------------------------------------------------------
   GRID / CARDS
-------------------------------------------------------------------*/
.grid {
  display: grid;
  gap: 18px;
  margin-top: 10px;
}

@media (min-width: 900px) {
  .grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
  }
}

.card {
  background: rgba(11, 14, 22, 0.95);
  border-radius: var(--radius-lg);
  padding: 16px 16px 14px;
  border: 1px solid var(--border-subtle);
  box-shadow: 0 10px 28px rgba(0,0,0,0.55);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-title {
  font-size: 15px;
  font-weight: 600;
}

.card-pill {
  padding: 4px 9px;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  border-radius: 999px;
  background: rgba(0,224,255,0.06);
  color: var(--accent);
  border: 1px solid rgba(0,224,255,0.4);
}

.card-body {
  margin-top: 10px;
  font-size: 13px;
  color: var(--text-muted);
  line-height: 1.55;
}

.stat-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 4px;
}

.stat-label {
  color: var(--text-muted);
}

.stat-value {
  font-weight: 600;
}

.chip-list {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 10px;
}

.chip {
  padding: 4px 9px;
  font-size: 11px;
  border-radius: 999px;
  background: rgba(23,27,40,0.9);
  border: 1px solid var(--border-subtle);
  color: var(--text-muted);
}

.chip.highlight {
  background: var(--accent-soft);
  color: var(--accent);
  border-color: var(--accent);
}

.players-list {
  display: grid;
  gap: 8px;
}

.player-item {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
}

.player-name {
  font-weight: 500;
}

.player-meta {
  font-size: 12px;
  color: var(--accent-yellow);
}

.score-box {
  margin-top: 6px;
  padding: 14px;
  border-radius: 16px;
  border: 1px dashed rgba(255,216,0,0.7);
  background: radial-gradient(circle at top, rgba(255,216,0,0.16), transparent 65%);
  text-align: center;
}

.score-box-label {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  color: var(--text-muted);
}

.score-box-value {
  font-size: 22px;
  font-weight: 800;
  color: var(--accent-yellow);
}

.score-box-caption {
  font-size: 11px;
  color: var(--text-muted);
}

/* -------------------------------------------------------------------
   LIVE SIDEBAR (desktop)
-------------------------------------------------------------------*/
#live-sidebar {
  position: fixed;
  top: 80px;
  right: 28px;
  width: 280px;
  padding: 18px 16px;
  background: rgba(11,14,22,0.97);
  border-radius: 16px;
  border: 1px solid rgba(120,134,180,0.5);
  box-shadow: 0 10px 40px rgba(0,0,0,0.55);
  display: none;
  z-index: 999;
}

@media (min-width: 1024px) {
  #live-sidebar {
    display: block;
  }
}

.sidebar-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--accent);
  margin-bottom: 10px;
}

.sidebar-cta {
  display: block;
  margin-top: 14px;
  padding: 10px 14px;
  background: linear-gradient(135deg, var(--accent), #57f5ff);
  color: #020308;
  font-weight: 700;
  border-radius: 999px;
  text-align: center;
  text-decoration: none;
  box-shadow: 0 8px 25px rgba(0,224,255,0.4);
  transition: var(--transition-fast);
}

.sidebar-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 32px rgba(0,224,255,0.55);
}

/* -------------------------------------------------------------------
   WIN PROBABILITY BAR
-------------------------------------------------------------------*/
.wp-bar {
  width: 100%;
  height: 14px;
  border-radius: 999px;
  overflow: hidden;
  display: flex;
  border: 1px solid rgba(0,224,255,0.35);
  background: rgba(15,18,26,0.9);
}

.wp-segment {
  height: 100%;
  transition: width 0.4s ease-out;
}

#wp-teamA {
  background: linear-gradient(90deg, var(--accent), rgba(0,224,255,0.5));
}

#wp-teamB {
  background: linear-gradient(90deg, rgba(255,216,0,0.5), var(--accent-yellow));
}

.wp-labels {
  font-size: 12px;
  display: flex;
  justify-content: space-between;
  color: var(--text-muted);
  margin-top: 4px;
}

/* -------------------------------------------------------------------
   STICKY CTA (mobile)
-------------------------------------------------------------------*/
.sticky-cta {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--accent-yellow);
  color: #05060a;
  text-align: center;
  padding: 12px 16px;
  font-weight: 700;
  font-size: 15px;
  text-decoration: none;
  z-index: 9999;
  box-shadow: 0 -10px 25px rgba(0,0,0,0.75);
}

@media (min-width: 900px) {
  .sticky-cta {
    display: none;
  }
}

/* -------------------------------------------------------------------
   DISCLAIMER & FOOTER
-------------------------------------------------------------------*/
.disclaimer {
  margin-top: 30px;
  font-size: 11px;
  color: var(--text-muted);
  line-height: 1.55;
  border-top: 1px solid rgba(41,46,65,0.8);
  padding-top: 14px;
}

footer {
  margin-top: 18px;
  font-size: 11px;
  color: var(--text-muted);
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  border-top: 1px solid rgba(24,27,40,0.9);
  padding-top: 12px;
}

.link-inline {
  color: var(--accent);
  text-decoration: none;
}

.link-inline:hover {
  text-decoration: underline;
}
</style>

</head>
<body>

  <main>

  <!-- ============================= -->
  <!-- HERO SECTION -->
  <!-- ============================= -->
  <section class="hero">
    <div>
      <div class="badge">
        <span class="badge-dot"></span>
        <span id="match-date-label">Today’s Match</span>
      </div>

      <h1 class="hero-title">
        Clean, <span class="accent">AI-powered</span> cricket match insights.
      </h1>

      <p class="hero-subtitle">
        Live win probability, projected scores, pitch behaviour, team form and key
        players — updated automatically for IPL, ILT20, BBL, PSL and SA20.
      </p>

      <div class="hero-meta">
        <span class="pill" id="format-pill">Format: T20</span>
        <span class="pill">Daily auto-updated insights</span>
      </div>

      <div class="hero-actions">
        <a href="#" target="_blank" class="btn-primary aff-link">Claim 125% Welcome Bonus</a>
        <a href="#analysis" class="btn-ghost">Scroll to insights</a>
      </div>
    </div>

    <!-- ============================= -->
    <!-- MATCH CARD -->
    <!-- ============================= -->
    <aside class="hero-card" id="hero-card">
      <div class="hero-card-header">
        <div>
          <div class="hero-card-title">Today’s Match</div>
          <small id="hero-sub" style="color:var(--text-muted);font-size:11px;">
            Loading fixture…
          </small>
        </div>

        <div class="hero-card-tag">
          <span style="width:8px;height:8px;background:#26ff8a;border-radius:999px;
                       box-shadow:0 0 10px rgba(38,255,138,0.9);"></span>
          Live soon
        </div>
      </div>

      <div class="hero-card-teams">
        <div class="hero-card-team">
          <span class="team-name" id="hero-teamA">Team A</span>
          <span class="team-form" id="hero-formA">Form: W L W W L</span>
        </div>

        <div class="hero-card-vs">VS</div>

        <div class="hero-card-team">
          <span class="team-name" id="hero-teamB">Team B</span>
          <span class="team-form" id="hero-formB">Form: L W L L W</span>
        </div>
      </div>

      <!-- Team Logos Auto-loaded by JS -->
      <div class="hero-logos" id="hero-logos"></div>

      <div class="hero-card-footer">
        <span class="projected-score" id="hero-projected">
          Projected score: 155 – 175
        </span>
        <span class="tag-soft">For cricket fans · Not financial advice</span>
      </div>
    </aside>
  </section>


  <!-- ============================= -->
  <!-- LIVE SIDEBAR (DESKTOP ONLY) -->
  <!-- ============================= -->
  <aside id="live-sidebar">
    <h3 class="sidebar-title">Live Match</h3>

    <div id="sidebar-content">
      <p style="opacity:0.6;">Loading live data…</p>
    </div>

    <a id="sidebar-cta" class="sidebar-cta" href="#" target="_blank">
      Claim Bonus →
    </a>
  </aside>

      <!-- ============================= -->
  <!-- INSIGHTS GRID -->
  <!-- ============================= -->
  <section id="analysis" class="grid grid-cols-2">

    <!-- TEAM FORM -->
    <article class="card">
      <div class="card-header">
        <h2 class="card-title">Team form & momentum</h2>
        <span class="card-pill">Recent matches</span>
      </div>

      <div class="card-body">
        <div class="stat-row">
          <span class="stat-label" id="form-labelA">Team A — last 5</span>
          <span class="stat-value" id="form-valuesA">W · L · W · W · L</span>
        </div>

        <div class="stat-row">
          <span class="stat-label" id="form-labelB">Team B — last 5</span>
          <span class="stat-value" id="form-valuesB">L · W · L · L · W</span>
        </div>

        <p id="form-summary" style="margin-top:8px;">
          Analysing team momentum…
        </p>

        <div class="chip-list">
          <span class="chip highlight" id="momentum-chip">Momentum edge: —</span>
          <span class="chip">Powerplay stability</span>
          <span class="chip">Middle-overs control</span>
        </div>
      </div>
    </article>


    <!-- PITCH ANALYSIS -->
    <article class="card">
      <div class="card-header">
        <h2 class="card-title">Pitch behaviour & conditions</h2>
        <span class="card-pill">Pitch report</span>
      </div>

      <div class="card-body">
        <p id="pitch-text">Loading pitch report…</p>

        <div class="chip-list" style="margin-top:10px;">
          <span class="chip highlight" id="pitch-chip-main">Venue insights</span>
          <span class="chip" id="pitch-chip-extra">Surface & scoring profile</span>
        </div>
      </div>
    </article>


    <!-- KEY PLAYERS -->
    <article class="card">
      <div class="card-header">
        <h2 class="card-title">Key players to watch</h2>
        <span class="card-pill">Impact players</span>
      </div>

      <div class="card-body">
        <div class="players-list" id="players-list">
          <!-- Filled dynamically -->
        </div>

        <p style="margin-top:8px;">
          These players can swing momentum through early breakthroughs or stable innings.
        </p>
      </div>
    </article>


    <!-- PROJECTED SCORE + AI WIN PROBABILITY -->
    <article class="card">
      <div class="card-header">
        <h2 class="card-title">Projected score & AI win probability</h2>
        <span class="card-pill">AI model</span>
      </div>

      <div class="card-body">

        <p>
          Based on venue trends, squad form and matchup context, our AI model projects:
        </p>

        <div class="score-box">
          <div class="score-box-label">Projected first-innings total</div>
          <div class="score-box-value" id="proj-range">155 – 175</div>
          <div class="score-box-caption">
            Projection for informational & entertainment purposes only.
          </div>
        </div>

        <div id="win-prob" style="margin-top:14px;font-size:13px;">
          <!-- AI win percentage inserted by JS -->
        </div>

        <div id="odds-block" style="margin-top:14px;font-size:13px;">
          <!-- Informational implied odds -->
        </div>

      </div>
    </article>

  </section>


  <!-- ============================= -->
  <!-- DISCLAIMER -->
  <!-- ============================= -->
  <section class="disclaimer">
    <p>
      <strong>Important:</strong> This website provides independent cricket insights
      for informational and entertainment purposes only. It does not provide betting,
      financial or investment advice. Values such as win probability and projected 
      totals are AI model estimations and not guarantees.
    </p>
    <p style="margin-top:8px;">
      Some links on this page may be affiliate links. If you choose to visit or sign
      up through these links, we may receive a commission at no extra cost to you.
    </p>
  </section>


  <!-- ============================= -->
  <!-- FOOTER -->
  <!-- ============================= -->
  <footer>
    <span>&copy; <span id="year"></span> Match Insights · All rights reserved.</span>
    <span>
      Built for cricket fans · 
      <a href="#" class="link-inline aff-link" target="_blank">Partner Site</a>
    </span>
  </footer>

</main>


<!-- ============================= -->
<!-- MOBILE STICKY CTA -->
<!-- ============================= -->
<a id="sticky-cta" class="sticky-cta aff-link" href="#" target="_blank">
  Claim your welcome bonus →
</a>

  <script>
/* -------------------------------------------------------
   PART 4.1 — TEAM LOGO SYSTEM + CORE UTILITIES
   ------------------------------------------------------- */

// Team logos from API (CricketData)
const logoA = data.teamA_logo || "assets/img/logos/default.png";
const logoB = data.teamB_logo || "assets/img/logos/default.png";

document.getElementById("hero-logos").innerHTML = `
  <img src="${logoA}" alt="${data.teamA}">
  <img src="${logoB}" alt="${data.teamB}">
`;


/* -------------------------------------------------------
   2) DYNAMIC YEAR IN FOOTER
   ------------------------------------------------------- */
document.getElementById("year").textContent = new Date().getFullYear();

/* -------------------------------------------------------
   3) STORAGE FOR AFFILIATE LINK
   ------------------------------------------------------- */
const AFF_LINK = "https://record.revmasters.com/_qAqHODIbs_277L7zifyVX2Nd7ZgqdRLk/1/";

</script>

  <script>
/* -------------------------------------------------------
   PART 4.2 — LOAD MATCH DATA & POPULATE UI
   ------------------------------------------------------- */

async function loadMatchData() {
  try {
    const res = await fetch("data/latest.json", { cache: "no-store" });
    const data = await res.json();

    /* ===============================
       1) HERO SECTION
       =============================== */

    document.getElementById("match-date-label").textContent =
      `Today’s Match · ${data.date || ""}`;

    document.getElementById("hero-teamA").textContent = data.teamA;
    document.getElementById("hero-teamB").textContent = data.teamB;

    document.getElementById("hero-formA").textContent = `Form: ${data.formA}`;
    document.getElementById("hero-formB").textContent = `Form: ${data.formB}`;

    document.getElementById("hero-sub").textContent =
      `${data.teamA} vs ${data.teamB} at ${data.venue || ""}`;

    document.getElementById("hero-projected").textContent =
      `Projected score: ${data.projected} (analysis only)`;

    // Logos
    document.getElementById("hero-logos").innerHTML = `
      <img src="${getLogo(data.teamA)}" alt="${data.teamA}">
      <img src="${getLogo(data.teamB)}" alt="${data.teamB}">
    `;

    /* ===============================
       2) TEAM FORM SECTION
       =============================== */

    document.getElementById("form-labelA").textContent =
      `${data.teamA} — last 5`;
    document.getElementById("form-labelB").textContent =
      `${data.teamB} — last 5`;

    document.getElementById("form-valuesA").textContent = data.formA;
    document.getElementById("form-valuesB").textContent = data.formB;

    // Momentum logic
    const pa = data.ml_probability?.teamA_prob || 50;
    const pb = data.ml_probability?.teamB_prob || 50;

    let summary = "Very balanced contest.";
    let chip = "Momentum edge: Even";

    if (Math.abs(pa - pb) > 5) {
      const fav = pa > pb ? data.teamA : data.teamB;
      summary = `Our AI model suggests a momentum edge for ${fav}, based on recent form and matchup profile.`;
      chip = `Momentum edge: ${fav}`;
    }

    document.getElementById("form-summary").textContent = summary;
    document.getElementById("momentum-chip").textContent = chip;

    /* ===============================
       3) PITCH REPORT
       =============================== */

    document.getElementById("pitch-text").textContent = data.pitch;
    document.getElementById("pitch-chip-main").textContent =
      `Venue: ${data.venue}`;
    document.getElementById("pitch-chip-extra").textContent =
      "Surface & scoring profile";

    /* ===============================
       4) KEY PLAYERS
       =============================== */

    const players = data.players || [];
    const pl = document.getElementById("players-list");

    pl.innerHTML = "";

    if (players.length === 0) {
      pl.innerHTML = "<p>No player data available.</p>";
    } else {
      players.slice(0, 4).forEach(p => {
        pl.innerHTML += `
          <div class="player-item">
            <span class="player-name">${p.name}</span>
            <span class="player-meta">${p.role || "Key player"}</span>
          </div>
        `;
      });
    }

    /* ===============================
       5) PROJECTED SCORE + AI WIN PROBABILITY
       =============================== */

    document.getElementById("proj-range").textContent =
      data.projected || "—";

    document.getElementById("win-prob").innerHTML = `
      <strong>AI Win Probability:</strong><br>
      ${data.teamA}: ${pa}%<br>
      ${data.teamB}: ${pb}%
    `;

    /* Implied odds (informational only) */
    const oddsA = (100 / pa).toFixed(2);
    const oddsB = (100 / pb).toFixed(2);

    /* Score band estimation */
    let low = 150, high = 190;
    const matchRange = (data.projected || "").match(/(\d+)\D+(\d+)/);
    if (matchRange) {
      low = parseInt(matchRange[1], 10);
      high = parseInt(matchRange[2], 10);
    }

    document.getElementById("odds-block").innerHTML = `
      <strong>Implied odds (informational):</strong><br>
      ${data.teamA}: ${oddsA}<br>
      ${data.teamB}: ${oddsB}<br><br>
      <strong>Score probability:</strong><br>
      Under ${low}: ~25%<br>
      ${low}–${high}: ~45%<br>
      Over ${high}: ~30%<br>
      <span style="font-size:11px;opacity:0.7;">* Entertainment-only AI output.</span>
    `;

    /* ===============================
       6) Affiliate links
       =============================== */

    document.querySelectorAll(".aff-link").forEach(a => {
      a.href = AFF_LINK;
      a.target = "_blank";
    });

    document.getElementById("sticky-cta").href = AFF_LINK;
  }

  catch (err) {
    console.error("Error loading latest.json:", err);

    document.getElementById("hero-sub").textContent =
      "Could not load match data.";
    document.getElementById("form-summary").textContent =
      "Data unavailable at the moment.";
  }
}

loadMatchData();
</script>

  <script>
/* -------------------------------------------------------
   PART 4.3 — LIVE SIDEBAR WIDGET
   ------------------------------------------------------- */

/* Renders sidebar with live score + AI win probability */
function renderLiveSidebar(data) {
  const box = document.getElementById("sidebar-content");

  const teamA = data.teamA || "Team A";
  const teamB = data.teamB || "Team B";

  const scoreA = data.live?.t1s || "-";
  const scoreB = data.live?.t2s || "-";

  const pa = data.ml_probability?.teamA_prob || 50;
  const pb = data.ml_probability?.teamB_prob || 50;

  const total = pa + pb || 1;
  const pA = Math.round((pa / total) * 100);
  const pB = 100 - pA;

  /* Render HTML */
  box.innerHTML = `
      <div style="font-size:14px;font-weight:600;margin-bottom:6px;">
        ${teamA} vs ${teamB}
      </div>

      <div style="font-size:13px;margin-bottom:4px;">
        <strong>${teamA}</strong>: ${scoreA}
      </div>

      <div style="font-size:13px;margin-bottom:8px;">
        <strong>${teamB}</strong>: ${scoreB}
      </div>

      <!-- WIN PROBABILITY BAR -->
      <div style="margin-top:14px;">
        <h4 style="font-size:13px;margin-bottom:6px;color:var(--accent);">
          Win Probability
        </h4>

        <div class="wp-bar">
          <div class="wp-segment" id="wpA" style="width:${pA}%;"></div>
          <div class="wp-segment" id="wpB" style="width:${pB}%;"></div>
        </div>

        <div class="wp-labels">
          <span>${teamA}: ${pA}%</span>
          <span>${teamB}: ${pB}%</span>
        </div>
      </div>

      <div style="font-size:11px;color:var(--text-muted);margin-top:6px;">
        * Auto-refresh every 60 seconds
      </div>
  `;

  /* Color gradient assignment */
  document.getElementById("wpA").style.background =
    "linear-gradient(90deg, var(--accent), rgba(0,224,255,0.5))";

  document.getElementById("wpB").style.background =
    "linear-gradient(90deg, rgba(255,216,0,0.5), var(--accent-yellow))";

  /* CTA link */
  document.getElementById("sidebar-cta").href = AFF_LINK;
}

/* -------------------------------------------------------
   FETCH LIVE SCORE (based on latest.json)
   ------------------------------------------------------- */

async function loadLiveScore() {
  try {
    const res = await fetch("data/latest.json", { cache: "no-store" });
    const data = await res.json();
    renderLiveSidebar(data);
  } catch (err) {
    document.getElementById("sidebar-content").innerHTML =
      "<p style='opacity:0.6;'>No live score available</p>";
  }
}

/* Initial load */
loadLiveScore();

/* Auto-refresh every 60 seconds */
setInterval(loadLiveScore, 60000);
</script>

</body>
</html>
