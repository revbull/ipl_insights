<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>IPL Insights – Match Predictions & Analytics</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="stylesheet" href="assets/css/style.css" />

<style>
body {
    background: #0d111c;
    color: #fff;
    font-family: Arial, sans-serif;
}

.container {
    max-width: 850px;
    margin: 0 auto;
    padding: 20px;
}

.header {
    text-align: center;
    padding: 15px;
}

.header h1 {
    margin: 0;
    color: #00d9ff;
    font-size: 34px;
}

.card {
    background: #141828;
    padding: 18px 22px;
    border-radius: 14px;
    margin: 18px 0;
    border: 1px solid #252b44;
}

.card h2 {
    margin-top: 0;
    color: #ffd34d;
}

img.match-image {
    width: 100%;
    border-radius: 14px;
    margin-top: 10px;
}

.cta-btn {
    display: block;
    width: 100%;
    background: #ffb100;
    color: #000;
    padding: 15px;
    text-align: center;
    font-size: 20px;
    border-radius: 12px;
    font-weight: bold;
    text-decoration: none;
    margin: 25px 0;
}
    /* TEAM LOGO STYLE */
.team-logos {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 25px;
    margin: 15px 0 10px;
}

.team-logos img {
    width: 70px;
    height: 70px;
    object-fit: contain;
}

/* STICKY CTA (mobile-first) */
.sticky-cta {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #ffb100;
    color: #000;
    padding: 15px;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    text-decoration: none;
    border-top: 3px solid #000;
    z-index: 9999;
}

@media(min-width: 768px) {
    .sticky-cta {
        display: none;
    }
}

</style>

</head>
<body>

<div class="container">

    <div class="header">
        <h1>IPL Insights</h1>
        <p>AI-Powered Cricket Predictions & Match Intelligence</p>
    </div>

    <div class="card" id="main-info">
        <h2>Loading match...</h2>
    </div>
   
    <div class="team-logos" id="team-logos"></div>

    <div class="card" id="match-card-img"></div>

    <div class="card" id="pitch"></div>
    <div class="card" id="projected"></div>
    <div class="card" id="probability"></div>
    <div class="card" id="odds"></div>
    <div class="card" id="ai"></div>

    <a id="cta1" href="#" class="cta-btn" target="_blank">Bet Now</a>
    <a id="cta2" href="#" class="cta-btn" target="_blank">Claim 125% Bonus</a>

</div>

<script>
// TEAM LOGO MAP – IPL + ILT20 + BBL + PSL + SA20
const LOGOS = {
    // IPL
    "MI": "assets/img/logos/mi.png",
    "Mumbai Indians": "assets/img/logos/mi.png",
    "RCB": "assets/img/logos/rcb.png",
    "Royal Challengers Bangalore": "assets/img/logos/rcb.png",
    "CSK": "assets/img/logos/csk.png",
    "Chennai Super Kings": "assets/img/logos/csk.png",
    "KKR": "assets/img/logos/kkr.png",
    "Kolkata Knight Riders": "assets/img/logos/kkr.png",
    "SRH": "assets/img/logos/srh.png",
    "Sunrisers Hyderabad": "assets/img/logos/srh.png",
    "DC": "assets/img/logos/dc.png",
    "Delhi Capitals": "assets/img/logos/dc.png",
    "GT": "assets/img/logos/gt.png",
    "Gujarat Titans": "assets/img/logos/gt.png",
    "LSG": "assets/img/logos/lsg.png",
    "Lucknow Super Giants": "assets/img/logos/lsg.png",

    // ILT20
    "MI Emirates": "assets/img/logos/mi_emirates.png",
    "Desert Vipers": "assets/img/logos/desert_vipers.png",
    "Gulf Giants": "assets/img/logos/gulf_giants.png",
    "Sharjah Warriors": "assets/img/logos/sharjah_warriors.png",
    "Dubai Capitals": "assets/img/logos/dubai_capitals.png",
    "Abu Dhabi Knight Riders": "assets/img/logos/adkr.png",

    // BBL
    "Sydney Sixers": "assets/img/logos/sixers.png",
    "Sydney Thunder": "assets/img/logos/thunder.png",
    "Perth Scorchers": "assets/img/logos/scorchers.png",
    "Melbourne Stars": "assets/img/logos/stars.png",
    "Melbourne Renegades": "assets/img/logos/renegades.png",
    "Adelaide Strikers": "assets/img/logos/strikers.png",
    "Hobart Hurricanes": "assets/img/logos/hurricanes.png",
    "Brisbane Heat": "assets/img/logos/heat.png",

    // PSL
    "Lahore Qalandars": "assets/img/logos/lahore.png",
    "Karachi Kings": "assets/img/logos/karachi.png",
    "Islamabad United": "assets/img/logos/islamabad.png",
    "Quetta Gladiators": "assets/img/logos/quetta.png",
    "Multan Sultans": "assets/img/logos/multan.png",
    "Peshawar Zalmi": "assets/img/logos/peshawar.png",

    // SA20
    "Sunrisers Eastern Cape": "assets/img/logos/sunrisers_ec.png",
    "Paarl Royals": "assets/img/logos/paarl_royals.png",
    "Joburg Super Kings": "assets/img/logos/joburg_super_kings.png",
    "Pretoria Capitals": "assets/img/logos/pretoria_capitals.png",
    "MI Cape Town": "assets/img/logos/mi_cape_town.png",
    "Durban's Super Giants": "assets/img/logos/durbans_super_giants.png",

    // Fallback
    "default": "assets/img/logos/default.png"
};

function getLogo(teamName) {
    return LOGOS[teamName] || LOGOS["default"];
}

// MAIN DATA LOAD
fetch("data/latest.json")
    .then(res => res.json())
    .then(data => {
        // MAIN MATCH INFO
        document.getElementById("main-info").innerHTML = `
            <h2>${data.teamA} vs ${data.teamB}</h2>
            <p><strong>Date:</strong> ${data.date}</p>
            <p><strong>Venue:</strong> ${data.venue}</p>
        `;

        // TEAM LOGOS
        const logosHtml = `
            <img src="${getLogo(data.teamA)}" alt="${data.teamA}">
            <img src="${getLogo(data.teamB)}" alt="${data.teamB}">
        `;
        const logosEl = document.getElementById("team-logos");
        if (logosEl) logosEl.innerHTML = logosHtml;

        // MATCH CARD IMAGE
        document.getElementById("match-card-img").innerHTML = `
            <img class="match-image" src="assets/img/cards/${data.date}.png" />
        `;

        // PITCH REPORT
        document.getElementById("pitch").innerHTML = `
            <h2>Pitch Report</h2>
            <p>${data.pitch}</p>
        `;

        // PROJECTED SCORE
        document.getElementById("projected").innerHTML = `
            <h2>Projected Score</h2>
            <p>${data.projected}</p>
        `;

        // WIN PROBABILITY
        document.getElementById("probability").innerHTML = `
            <h2>Win Probability (AI Model)</h2>
            <p>${data.teamA}: ${data.ml_probability.teamA_prob}%</p>
            <p>${data.teamB}: ${data.ml_probability.teamB_prob}%</p>
        `;

        // DYNAMIC ODDS + SCORE PROBABILITY (ИНФО САМО)
        const pa = data.ml_probability.teamA_prob;
        const pb = data.ml_probability.teamB_prob;

        const oddsA = (100 / pa).toFixed(2);
        const oddsB = (100 / pb).toFixed(2);

        // parse projected "160–190 runs"
        let low = 150, high = 190;
        const m = (data.projected || "").match(/(\d+)\D+(\d+)/);
        if (m) {
            low = parseInt(m[1], 10);
            high = parseInt(m[2], 10);
        }

        const scoreHtml = `
            <h2>Dynamic Odds & Score Range</h2>
            <p><strong>Implied (info only):</strong><br>
            ${data.teamA}: ~${oddsA} <span style="font-size:12px;">(decimal)</span><br>
            ${data.teamB}: ~${oddsB} <span style="font-size:12px;">(decimal)</span></p>

            <p><strong>Score Range Probability (est.):</strong><br>
            Under ${low}: ~25%<br>
            ${low}–${high}: ~45%<br>
            Over ${high}: ~30%</p>

            <p style="font-size:12px;opacity:0.7;">
            * Всичко е приблизителен AI модел за информация и не е съвет за залагане.
            </p>
        `;
        document.getElementById("odds").innerHTML = scoreHtml;

        // AI PREDICTION
        document.getElementById("ai").innerHTML = `
            <h2>AI Prediction Summary</h2>
            <p>${data.ai_summary}</p>
        `;

        // CTA BUTTONS (замени с твоя aff линк)
        const affLink = "YOUR_AFFILIATE_LINK_HERE";
        document.getElementById("cta1").href = affLink;
        document.getElementById("cta2").href = affLink;
        const sticky = document.getElementById("sticky-cta");
        if (sticky) sticky.href = affLink;
    })
    .catch(err => {
        document.getElementById("main-info").innerHTML = `
            <h2>Error loading match data</h2>
            <p>${err}</p>
        `;
    });
</script>

    
<a id="sticky-cta" class="sticky-cta" href="#" target="_blank">
    Claim Your Bonus
</a>

</body>
</html>
